<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://d3js.org/d3.v5.min.js"></script>
<script>
//For whatever reason, I could not get d3.csv to work, so I wrote a script to format the csv file in to an array I could copy paste in
var manual_data = [
  {
    "Champion_name": "Galio",
    "wins": "7",
    "losses": "2",
    "winrate": "0.7777777777777778",
    "Games_as": "9",
    "Winrate_against": "0.5306122448979592",
    "Games_against": "49",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Ornn",
    "wins": "3",
    "losses": "2",
    "winrate": "0.6",
    "Games_as": "5",
    "Winrate_against": "0.7272727272727273",
    "Games_against": "33",
    "LCK_wr": "0.5",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "XinZhao",
    "wins": "1",
    "losses": "2",
    "winrate": "0.3333333333333333",
    "Games_as": "3",
    "Winrate_against": "0.4935064935064935",
    "Games_against": "77",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Leblanc",
    "wins": "21",
    "losses": "18",
    "winrate": "0.5384615384615384",
    "Games_as": "39",
    "Winrate_against": "0.5277777777777778",
    "Games_against": "36",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Vladimir",
    "wins": "28",
    "losses": "48",
    "winrate": "0.3684210526315789",
    "Games_as": "76",
    "Winrate_against": "0.6052631578947368",
    "Games_against": "114",
    "LCK_wr": "0.6",
    "LCK_games_against": "5",
  },
  {
    "Champion_name": "MasterYi",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.75",
    "Games_against": "4",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Alistar",
    "wins": "4",
    "losses": "9",
    "winrate": "0.3076923076923077",
    "Games_as": "13",
    "Winrate_against": "0.47692307692307695",
    "Games_against": "130",
    "LCK_wr": "0.6666666666666666",
    "LCK_games_against": "3",
  },
  {
    "Champion_name": "Ryze",
    "wins": "19",
    "losses": "16",
    "winrate": "0.5428571428571428",
    "Games_as": "35",
    "Winrate_against": "0.5419847328244275",
    "Games_against": "131",
    "LCK_wr": "0.5",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "Sion",
    "wins": "4",
    "losses": "5",
    "winrate": "0.4444444444444444",
    "Games_as": "9",
    "Winrate_against": "0.6046511627906976",
    "Games_against": "86",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Soraka",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.5945945945945946",
    "Games_against": "37",
    "LCK_wr": "0.5",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "Karma",
    "wins": "1",
    "losses": "4",
    "winrate": "0.2",
    "Games_as": "5",
    "Winrate_against": "0.5797101449275363",
    "Games_against": "69",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Tristana",
    "wins": "3",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "3",
    "Winrate_against": "0.5070422535211268",
    "Games_against": "71",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Jax",
    "wins": "3",
    "losses": "6",
    "winrate": "0.3333333333333333",
    "Games_as": "9",
    "Winrate_against": "0.6016949152542372",
    "Games_against": "118",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Morgana",
    "wins": "0",
    "losses": "3",
    "winrate": "0.0",
    "Games_as": "3",
    "Winrate_against": "0.48936170212765956",
    "Games_against": "94",
    "LCK_wr": "0.0",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "Singed",
    "wins": "4",
    "losses": "1",
    "winrate": "0.8",
    "Games_as": "5",
    "Winrate_against": "0.5967741935483871",
    "Games_against": "62",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Evelynn",
    "wins": "1",
    "losses": "5",
    "winrate": "0.16666666666666666",
    "Games_as": "6",
    "Winrate_against": "0.5555555555555556",
    "Games_against": "27",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Chogath",
    "wins": "0",
    "losses": "2",
    "winrate": "0.0",
    "Games_as": "2",
    "Winrate_against": "0.4",
    "Games_against": "20",
    "LCK_wr": "0.5",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "Anivia",
    "wins": "10",
    "losses": "7",
    "winrate": "0.5882352941176471",
    "Games_as": "17",
    "Winrate_against": "0.6666666666666666",
    "Games_against": "9",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Kassadin",
    "wins": "13",
    "losses": "10",
    "winrate": "0.5652173913043478",
    "Games_as": "23",
    "Winrate_against": "0.4222222222222222",
    "Games_against": "45",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Irelia",
    "wins": "56",
    "losses": "26",
    "winrate": "0.6829268292682927",
    "Games_as": "82",
    "Winrate_against": "0.5205479452054794",
    "Games_against": "73",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Janna",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.5147058823529411",
    "Games_against": "68",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Gangplank",
    "wins": "20",
    "losses": "12",
    "winrate": "0.625",
    "Games_as": "32",
    "Winrate_against": "0.4824561403508772",
    "Games_against": "114",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Corki",
    "wins": "13",
    "losses": "17",
    "winrate": "0.43333333333333335",
    "Games_as": "30",
    "Winrate_against": "0.8",
    "Games_against": "20",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Pyke",
    "wins": "1",
    "losses": "1",
    "winrate": "0.5",
    "Games_as": "2",
    "Winrate_against": "0.8",
    "Games_against": "15",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Veigar",
    "wins": "4",
    "losses": "1",
    "winrate": "0.8",
    "Games_as": "5",
    "Winrate_against": "0.625",
    "Games_against": "8",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Trundle",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.5384615384615384",
    "Games_against": "39",
    "LCK_wr": "0.0",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "Swain",
    "wins": "24",
    "losses": "22",
    "winrate": "0.5217391304347826",
    "Games_as": "46",
    "Winrate_against": "0.5294117647058824",
    "Games_against": "51",
    "LCK_wr": "0.42857142857142855",
    "LCK_games_against": "7",
  },
  {
    "Champion_name": "Caitlyn",
    "wins": "2",
    "losses": "3",
    "winrate": "0.4",
    "Games_as": "5",
    "Winrate_against": "0.5765765765765766",
    "Games_against": "111",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Blitzcrank",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.8",
    "Games_against": "15",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Katarina",
    "wins": "1",
    "losses": "4",
    "winrate": "0.2",
    "Games_as": "5",
    "Winrate_against": "0.5",
    "Games_against": "16",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Nocturne",
    "wins": "2",
    "losses": "2",
    "winrate": "0.5",
    "Games_as": "4",
    "Winrate_against": "0.5555555555555556",
    "Games_against": "18",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Maokai",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.5",
    "Games_against": "10",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Renekton",
    "wins": "1",
    "losses": "4",
    "winrate": "0.2",
    "Games_as": "5",
    "Winrate_against": "0.6842105263157895",
    "Games_against": "19",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "JarvanIV",
    "wins": "3",
    "losses": "2",
    "winrate": "0.6",
    "Games_as": "5",
    "Winrate_against": "0.5",
    "Games_against": "40",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Elise",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.5",
    "Games_against": "8",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "LeeSin",
    "wins": "3",
    "losses": "1",
    "winrate": "0.75",
    "Games_as": "4",
    "Winrate_against": "0.609375",
    "Games_against": "64",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Vayne",
    "wins": "1",
    "losses": "1",
    "winrate": "0.5",
    "Games_as": "2",
    "Winrate_against": "0.6176470588235294",
    "Games_against": "34",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Rumble",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.5714285714285714",
    "Games_against": "14",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Cassiopeia",
    "wins": "13",
    "losses": "7",
    "winrate": "0.65",
    "Games_as": "20",
    "Winrate_against": "0.5517241379310345",
    "Games_against": "58",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Skarner",
    "wins": "3",
    "losses": "2",
    "winrate": "0.6",
    "Games_as": "5",
    "Winrate_against": "0.3157894736842105",
    "Games_against": "57",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Azir",
    "wins": "66",
    "losses": "47",
    "winrate": "0.584070796460177",
    "Games_as": "113",
    "Winrate_against": "0.45714285714285713",
    "Games_against": "35",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Nidalee",
    "wins": "1",
    "losses": "1",
    "winrate": "0.5",
    "Games_as": "2",
    "Winrate_against": "0.6739130434782609",
    "Games_against": "46",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Ezreal",
    "wins": "8",
    "losses": "8",
    "winrate": "0.5",
    "Games_as": "16",
    "Winrate_against": "0.5271966527196653",
    "Games_against": "239",
    "LCK_wr": "0.3333333333333333",
    "LCK_games_against": "9",
  },
  {
    "Champion_name": "Mordekaiser",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.6",
    "Games_against": "5",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Garen",
    "wins": "1",
    "losses": "1",
    "winrate": "0.5",
    "Games_as": "2",
    "Winrate_against": "0.5",
    "Games_against": "2",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Leona",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.8",
    "Games_against": "25",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Malzahar",
    "wins": "17",
    "losses": "8",
    "winrate": "0.68",
    "Games_as": "25",
    "Winrate_against": "0.5",
    "Games_against": "18",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Talon",
    "wins": "1",
    "losses": "1",
    "winrate": "0.5",
    "Games_as": "2",
    "Winrate_against": "0.5",
    "Games_against": "30",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Riven",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.6363636363636364",
    "Games_against": "11",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "KogMaw",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.631578947368421",
    "Games_against": "38",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Shen",
    "wins": "1",
    "losses": "4",
    "winrate": "0.2",
    "Games_as": "5",
    "Winrate_against": "0.5423728813559322",
    "Games_against": "59",
    "LCK_wr": "0.0",
    "LCK_games_against": "6",
  },
  {
    "Champion_name": "Lux",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.0",
    "Games_against": "1",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Xerath",
    "wins": "3",
    "losses": "5",
    "winrate": "0.375",
    "Games_as": "8",
    "Winrate_against": "0.75",
    "Games_against": "8",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Ahri",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.6666666666666666",
    "Games_against": "3",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Graves",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.47619047619047616",
    "Games_against": "63",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Fizz",
    "wins": "12",
    "losses": "10",
    "winrate": "0.5454545454545454",
    "Games_as": "22",
    "Winrate_against": "0.5789473684210527",
    "Games_against": "38",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Rengar",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.625",
    "Games_against": "24",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Varus",
    "wins": "2",
    "losses": "1",
    "winrate": "0.6666666666666666",
    "Games_as": "3",
    "Winrate_against": "0.5247524752475248",
    "Games_against": "101",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Viktor",
    "wins": "1",
    "losses": "2",
    "winrate": "0.3333333333333333",
    "Games_as": "3",
    "Winrate_against": "0.5",
    "Games_against": "10",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Sejuani",
    "wins": "2",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "2",
    "Winrate_against": "0.6235294117647059",
    "Games_against": "85",
    "LCK_wr": "0.7777777777777778",
    "LCK_games_against": "9",
  },
  {
    "Champion_name": "Fiora",
    "wins": "7",
    "losses": "7",
    "winrate": "0.5",
    "Games_as": "14",
    "Winrate_against": "0.44680851063829785",
    "Games_against": "47",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "TwistedFate",
    "wins": "2",
    "losses": "1",
    "winrate": "0.6666666666666666",
    "Games_as": "3",
    "Winrate_against": "0.6363636363636364",
    "Games_against": "22",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Khazix",
    "wins": "0",
    "losses": "2",
    "winrate": "0.0",
    "Games_as": "2",
    "Winrate_against": "0.5045871559633027",
    "Games_against": "109",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Darius",
    "wins": "8",
    "losses": "4",
    "winrate": "0.6666666666666666",
    "Games_as": "12",
    "Winrate_against": "0.45454545454545453",
    "Games_against": "33",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Jayce",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.6428571428571429",
    "Games_against": "42",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Diana",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "1.0",
    "Games_against": "1",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "AurelionSol",
    "wins": "1",
    "losses": "3",
    "winrate": "0.25",
    "Games_as": "4",
    "Winrate_against": "0.5",
    "Games_against": "22",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Zoe",
    "wins": "29",
    "losses": "29",
    "winrate": "0.5",
    "Games_as": "58",
    "Winrate_against": "0.5526315789473685",
    "Games_against": "114",
    "LCK_wr": "0.8",
    "LCK_games_against": "5",
  },
  {
    "Champion_name": "Kaisa",
    "wins": "1",
    "losses": "2",
    "winrate": "0.3333333333333333",
    "Games_as": "3",
    "Winrate_against": "0.47126436781609193",
    "Games_against": "87",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Gnar",
    "wins": "3",
    "losses": "1",
    "winrate": "0.75",
    "Games_as": "4",
    "Winrate_against": "0.5636363636363636",
    "Games_against": "55",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Zac",
    "wins": "7",
    "losses": "5",
    "winrate": "0.5833333333333334",
    "Games_as": "12",
    "Winrate_against": "0.5208333333333334",
    "Games_against": "48",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Thresh",
    "wins": "2",
    "losses": "1",
    "winrate": "0.6666666666666666",
    "Games_as": "3",
    "Winrate_against": "0.6304347826086957",
    "Games_against": "46",
    "LCK_wr": "1.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Yasuo",
    "wins": "53",
    "losses": "32",
    "winrate": "0.6235294117647059",
    "Games_as": "85",
    "Winrate_against": "0.4634146341463415",
    "Games_against": "41",
    "LCK_wr": "0.3333333333333333",
    "LCK_games_against": "3",
  },
  {
    "Champion_name": "Velkoz",
    "wins": "2",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "2",
    "Winrate_against": "0.16666666666666666",
    "Games_against": "6",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Taliyah",
    "wins": "15",
    "losses": "7",
    "winrate": "0.6818181818181818",
    "Games_as": "22",
    "Winrate_against": "0.4727272727272727",
    "Games_against": "55",
    "LCK_wr": "0.0",
    "LCK_games_against": "1",
  },
  {
    "Champion_name": "Camille",
    "wins": "3",
    "losses": "2",
    "winrate": "0.6",
    "Games_as": "5",
    "Winrate_against": "0.4925373134328358",
    "Games_against": "201",
    "LCK_wr": "0.42857142857142855",
    "LCK_games_against": "7",
  },
  {
    "Champion_name": "Bard",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "0.6923076923076923",
    "Games_against": "13",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Braum",
    "wins": "3",
    "losses": "3",
    "winrate": "0.5",
    "Games_as": "6",
    "Winrate_against": "0.5130434782608696",
    "Games_against": "115",
    "LCK_wr": "0.0",
    "LCK_games_against": "2",
  },
  {
    "Champion_name": "Jhin",
    "wins": "3",
    "losses": "2",
    "winrate": "0.6",
    "Games_as": "5",
    "Winrate_against": "0.5227272727272727",
    "Games_against": "88",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Illaoi",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.4",
    "Games_against": "15",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "TahmKench",
    "wins": "2",
    "losses": "3",
    "winrate": "0.4",
    "Games_as": "5",
    "Winrate_against": "0.5350877192982456",
    "Games_against": "114",
    "LCK_wr": "0.625",
    "LCK_games_against": "8",
  },
  {
    "Champion_name": "Lucian",
    "wins": "0",
    "losses": "1",
    "winrate": "0.0",
    "Games_as": "1",
    "Winrate_against": "0.625",
    "Games_against": "40",
    "LCK_wr": "0.6666666666666666",
    "LCK_games_against": "3",
  },
  {
    "Champion_name": "Rakan",
    "wins": "1",
    "losses": "3",
    "winrate": "0.25",
    "Games_as": "4",
    "Winrate_against": "0.49612403100775193",
    "Games_against": "129",
    "LCK_wr": "0.3333333333333333",
    "LCK_games_against": "6",
  },
  {
    "Champion_name": "Xayah",
    "wins": "2",
    "losses": "3",
    "winrate": "0.4",
    "Games_as": "5",
    "Winrate_against": "0.5045045045045045",
    "Games_against": "111",
    "LCK_wr": "0.25",
    "LCK_games_against": "4",
  },
  {
    "Champion_name": "Ekko",
    "wins": "2",
    "losses": "5",
    "winrate": "0.2857142857142857",
    "Games_as": "7",
    "Winrate_against": "0.5384615384615384",
    "Games_against": "26",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
  {
    "Champion_name": "Vi",
    "wins": "1",
    "losses": "0",
    "winrate": "1.0",
    "Games_as": "1",
    "Winrate_against": "1.0",
    "Games_against": "1",
    "LCK_wr": "null",
    "LCK_games_against": "null",
  },
];
</script>
<style>
* {box-sizing: border-box}
body {font-family: Verdana, sans-serif; margin:0}
.mySlides {display: none}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 1100px;
  position: relative;
  margin: auto;
}

/* Next & previous buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  margin-top: -22px;
  color: grey;
  font-weight: bold;
  font-size: 18px;
  transition: 0.6s ease;
  border-radius: 0 3px 3px 0;
}

/* Position the "next button" to the right */
.next {
  right: 0;
  border-radius: 3px 0 0 3px;
}

/* On hover, add a black background color with a little bit see-through */
.prev:hover, .next:hover {
  background-color: rgba(0,0,0,0.8);
}

/* Caption text */
.text {
  color: #f2f2f2;
  font-size: 15px;
  padding: 8px 12px;
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
}

/* Number text (1/3 etc) */
.numbertext {
  color: #525252;
  font-size: 12px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}

/* The dots/bullets/indicators */
.dot {
  cursor: pointer;
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.6s ease;
}

.active, .dot:hover {
  background-color: #717171;
}

/* Fading animation */
.fade {
  -webkit-animation-name: fade;
  -webkit-animation-duration: 1.5s;
  animation-name: fade;
  animation-duration: 1.5s;
}

@-webkit-keyframes fade {
  from {opacity: .4} 
  to {opacity: 1}
}

@keyframes fade {
  from {opacity: .4} 
  to {opacity: 1}
}

/* On smaller screens, decrease text size */
@media only screen and (max-width: 300px) {
  .prev, .next,.text {font-size: 11px}
}

.tooltip {
  position: absolute;
  width: 200px;
  height: 28px;
  font-size: 10px;
  pointer-events: none;
}
</style>
</head>
<body>

<div class="slideshow-container">

<div class="mySlides fade" style="display: block" align="center">
  <div class="numbertext" id="numbertext">1 / 6</div>
  <svg id="viz" style="display: none" width="1000" height="900" align="center">
    <text x="100" y="100" class="pg2" font-size="12px">Faker has a winrate around 0.5 for</text>
    <text x="100" y="113" class="pg2" font-size="12px">most champions he has played</text>
    <text x="100" y="126" class="pg2" font-size="12px">against many times, though due to</text>
    <text x="100" y="139" class="pg2" font-size="12px">his skill, this value of often above the</text>
    <text x="100" y="152" class="pg2" font-size="12px">0.5 line.</text>
    <line x1="190" y1="165" x2="150" y2="410" stroke="#F9A655" stroke-width="2" class="pg2"/>
    <text x="700" y="300" class="pg2" font-size="12px">Faker has a &lt0.5 win rate against both of his two</text>
    <text x="700" y="313" class="pg2" font-size="12px">most played champions (Azir, Yasuo). This can be</text>
    <text x="700" y="326" class="pg2" font-size="12px">Attributed to those champtions being strong in</text>
    <text x="700" y="339" class="pg2" font-size="12px">the current state of the game.</text>
    <line x1="850" y1="352" x2="920" y2="475" stroke="#F9A655" stroke-width="2" class="pg2"/>
    
    <text x="250" y="300" class="pg4" font-size="12px">The champions with proportionally more</text>
    <text x="250" y="313" class="pg4" font-size="12px">games in LCK compared to solo queue</text>
    <text x="250" y="326" class="pg4" font-size="12px">(Sejuani, Shen, Tahm Kench, etc.) all</text>
    <text x="250" y="339" class="pg4" font-size="12px">reward coordination, which professional</text>
    <text x="250" y="352" class="pg4" font-size="12px">teams are natually better at.</text>
    <line x1="350" y1="365" x2="71" y2="417" stroke="#F9A655" stroke-width="2" class="pg4"/>
    <line x1="350" y1="365" x2="50" y2="360" stroke="#F9A655" stroke-width="2" class="pg4"/>
    
    <text x="250" y="300" class="pg5" font-size="12px">The two exceptions here are Sejuani and</text>
    <text x="250" y="313" class="pg5" font-size="12px">Tahm Kench. Sejuani if often a fall</text>
    <text x="250" y="326" class="pg5" font-size="12px">back champion when stronger junglers</text>
    <text x="250" y="339" class="pg5" font-size="12px">are banned out, while tahm Kench is</text>
    <text x="250" y="352" class="pg5" font-size="12px">used as insurance against over aggressive</text>
    <text x="250" y="365" class="pg5" font-size="12px">teammates</text>
    <line x1="350" y1="378" x2="71" y2="417" stroke="#F9A655" stroke-width="2" class="pg5"/>
    <line x1="350" y1="378" x2="50" y2="360" stroke="#F9A655" stroke-width="2" class="pg5"/>
    
    <text x="400" y="234" class="pg6" font-size="12px">The Champion that SKT performs the worst</text>
    <text x="400" y="247" class="pg6" font-size="12px">agaist is Shen, who they are 0-6 against.</text>
    <text x="400" y="260" class="pg6" font-size="12px">Shen has a large global presence and is</text>
    <text x="400" y="273" class="pg6" font-size="12px">used by teams to exploit weak points in</text>
    <text x="400" y="286" class="pg6" font-size="12px">their opponenents. </text>
    <line x1="395" y1="265" x2="71" y2="417" stroke="#F9A655" stroke-width="2" class="pg6"/>
    
    
    <text x="800" y="50" class="l1" font-size="12px">Solo Queue Games Against</text>
    <circle cx="808" cy="58" class="l1" r="1.5" fill="none" stroke-width="2" stroke="#4E79A7" />
    <text x="820" y="66" class="l1" font-size="12px">1</text>
    <circle cx="808" cy="74" class="l1" r="6" fill="none" stroke-width="2" stroke="#4E79A7" />
    <text x="820" y="82" class="l1" font-size="12px">100</text>
    <circle cx="808" cy="90" class="l1" r="8.14" fill="none" stroke-width="2" stroke="#4E79A7" />
    <text x="820" y="98" class="l1" font-size="12px">200</text>
    <circle cx="808" cy="106" class="l1" r="8.90" fill="none" stroke-width="2" stroke="#4E79A7" />
    <text x="820" y="114" class="l1" font-size="12px">250</text>
    
   
  </svg>
  <br class="essay" style="display: block"">
  <center>
  <button onclick="toggleEssay()"  class="essay" style="display: block">About me</button>
  </center>
  <p class="essay" style="display: block" align="center">
  <font id="fontcolor" color = "white">
    line 1 asdfasdfasdf asdfasdl;kfjas l;df jl;asjd ;fklajs ;dfjk as;dfjk asl;dkf j;lkasf asdf asdf asdfas df asdfwe f awsfasdfl as;klf larhg;aksjdf;laskdf j;lasdjk f;lakjsdf;kla j;sdlfkj a;sdjf ;alksjdf;lka jsd;fjaeo;if ;asdklfj a;sldikfj ;li
    <br/>
    line 2
    <br/>
    line 3
    <br/>
  </font>
  </p>
</div>

<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
<a class="next" onclick="plusSlides(1)">&#10095;</a>

</div>
<br>

<div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span> 
  <span class="dot" onclick="currentSlide(2)"></span> 
  <span class="dot" onclick="currentSlide(3)"></span> 
  <span class="dot" onclick="currentSlide(4)"></span> 
  <span class="dot" onclick="currentSlide(5)"></span> 
  <span class="dot" onclick="currentSlide(6)"></span> 
</div>

<div id="descBox" style="text-align:center">
</div>

<script>
var slideIndex = 1;
var showEssay = 0;

var descriptions = ["", "",
"<p>A graph of SKT Faker's winrates against certain champions vs how many times he has played said champion in solo queue.</p><p>Faker is a player on professional League of Legends (LoL) team SKT and was, at his prime, the best player to have played the game. LoL is a 5v5 competitive game where players each control a single unique champion and attempt to destroy the opponent's base. Solo queue is a ranked game mode where players are randomly matched up with 9 others of similar skill level and is the primary way players practice individual play.</p><p>SKT, the most decorated LoL team with 3 world championship titles, have recently struggled to defeat their opponenents in the LCK, the Korean Professional LoL league. This narrative visualization is to investigate the relationship between how familiar Faker is with certain champions and his professional results playing against those champions.</p>",
"<p>Here, the champions that SKT Faker has played against in the LCK have been highlighted.</p><p>At first glance, it appears Faker and his team should do fine. He has played against most of these champions often enough and have a positive win rate against them in solo queue.",
"Since some champions have not been used in the current professional season, they have been filtered out.</p><p>At time of writing, Faker has been subbed out of team SKT in a move considered unexpected by most. Before this move SKT had 4 wins and 7 losses in best of 3 matches against their opponents.  This can be seen in Faker having <0.5 win rates against most champions in competitive matches.</p><p>Interestingly, we find that how often Faker played against a champion in solo queue is roughly proportional to number of times he faced them in the LCK.",
"<p>With only the champions that SKT has a >=0.5 win rate against, the most notable feature is the relatively low playrates for all of the champions, both in solo queue and in the LCK.</p><p>I hypothesize that these champions are not as strong comparitively in the current game state and teams that choose said champions have a harder time winning in general.</p>",
"<p>The Champions that SKT have a negative win rate against are clustered slightly lower on the graph than the champions they have positive in rate against. This could be due to those champions being stronger on average. But more worryingly for SKT, it could mean they rely too much on Faker, and the champions that he stuggles more against become champions that the team struggles more against. For SKT to succeed, they may have to find a way to encourage their other members, who are all very good players, to take a more leading role in their games. Faker is no longer the Unkillable Demon King he once was, and he needs his team to shore up any weaknessess that he now has."];
console.log(descriptions);

showSlides(slideIndex);


function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}


function showSlides(n) {
  console.log(slideIndex)
  var i;
  var dots = document.getElementsByClassName("dot");
  var essay_bits = document.getElementsByClassName("essay");
  var viz = document.getElementById("viz")
  if (n > 6) {slideIndex = 1}    
  if (n < 1) {slideIndex = 6}
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
  }
  if (slideIndex == 1) {
    for (i = 0; i < essay_bits.length; i++) {
        essay_bits[i].style.display = "block"
    }
    viz.style.display = "none";
  } else {
    for (i = 0; i < essay_bits.length; i++) {
        essay_bits[i].style.display = "none"
    }
    viz.style.display = "block";
  }
  document.getElementById("numbertext").innerHTML = slideIndex.toString() + " / 6";
  document.getElementById("descBox").innerHTML = descriptions[slideIndex];
  dots[slideIndex-1].className += " active";
  
  var pg2s = document.getElementsByClassName("pg2");
  if (slideIndex != 2) {
    for(var i = 0; i < pg2s.length; i++)
    {
       pg2s[i].style.display = "none";
    }
  } else {
    for(var i = 0; i < pg2s.length; i++)
    {
       pg2s[i].style.display = "block";
    }
  }
  
  var pg4s = document.getElementsByClassName("pg4");
  if (slideIndex != 4) {
    for(var i = 0; i < pg4s.length; i++)
    {
       pg4s[i].style.display = "none";
    }
  } else {
    for(var i = 0; i < pg4s.length; i++)
    {
       pg4s[i].style.display = "block";
    }
  }
  
  var pg5s = document.getElementsByClassName("pg5");
  if (slideIndex != 5) {
    for(var i = 0; i < pg5s.length; i++)
    {
       pg5s[i].style.display = "none";
    }
  } else {
    for(var i = 0; i < pg5s.length; i++)
    {
       pg5s[i].style.display = "block";
    }
  }
  
  var pg6s = document.getElementsByClassName("pg6");
  if (slideIndex != 6) {
    for(var i = 0; i < pg6s.length; i++)
    {
       pg6s[i].style.display = "none";
    }
  } else {
    for(var i = 0; i < pg6s.length; i++)
    {
       pg6s[i].style.display = "block";
    }
  }
  
  updateAllElements(0);
}

function toggleEssay(n) {
  showEssay = -showEssay + 1
  if (showEssay) {
    document.getElementById("fontcolor").color = "black"
  } else {
    document.getElementById("fontcolor").color = "white"
  }
}

function getElementColor(n) {
  if (slideIndex < 3) {
    return "#4E79A7";
  } else if (slideIndex == 3) {
    if (n == "null") {
      return "#C5E6F7";
    }
    return "#4E79A7";
  } else if (slideIndex == 4 || slideIndex == 5 || slideIndex == 6) {
    if (n == "null") {
      return "#FFFFFF";
    }
    return d3.interpolateRdBu(+n * .8 + .1);
  }
}

function getElementOpacity(n) {
  if (slideIndex == 2 || slideIndex == 3) {
    return 1;
  } else if (slideIndex == 4) {
    if (n == "null") {
      return 0;
    }
    return 1;
  } else if (slideIndex == 5) {
    if (n == "null") {
      return 0;
    }
    if (+n < 0.5) {
      return 0;
    }
    return 1;
  } else if (slideIndex == 6) {
    if (n == "null") {
      return 0;
    }
    if (+n > 0.5) {
      return 0;
    }
    return 1;
  }
}

function getPlusOpacity(n) {
  if (slideIndex == 2 || slideIndex == 3) {
    return 0;
  } else if (slideIndex == 4) {
    if (n == "null") {
      return 0;
    }
    return 1;
  } else if (slideIndex == 5) {
    if (n == "null") {
      return 0;
    }
    if (+n < 0.5) {
      return 0;
    }
    return 1;
  } else if (slideIndex == 6) {
    if (n == "null") {
      return 0;
    }
    if (+n > 0.5) {
      return 0;
    }
    return 1;
  }
}

function getPlusPoints(cx, cy, lck_games) {
  if (lck_games == "null") {
    return "";
  }
  r = Math.sqrt(lck_games*12);
  return "" + cx + " " + cy + ","
           + (cx + r) + " " + cy + ","
           + cx + " " + cy + ","
           + cx + " " + (cy + r) + ","
           + cx + " " + cy + ","
           + (cx - r) + " " + cy + ","
           + cx + " " + cy + ","
           + cx + " " + (cy - r);
}

function getTooltip(d) {
  if (slideIndex < 3) {
    return "Champion: " + d.Champion_name
                        + "<br/>" + "Games against: " + d.Games_against
                        + "<br/>" + "Games as: " + d.Games_as
                        + "<br/>" + "Winrate against: " + (+d.Winrate_against).toFixed(3);
  } else if (slideIndex == 3) {
    if (d.LCK_games_against == "null") {
      return "";
    }
    return "Champion: " + d.Champion_name
                        + "<br/>" + "Games against: " + d.Games_against
                        + "<br/>" + "Games as: " + d.Games_as
                        + "<br/>" + "Winrate against: " + (+d.Winrate_against).toFixed(3)
                        + "<br/>" + "LCK games against: " + (+d.LCK_games_against).toFixed(3);
  } else if (slideIndex == 4) {
    if (d.LCK_games_against == "null") {
      return "";
    }
    return "Champion: " + d.Champion_name
                        + "<br/>" + "Games against: " + d.Games_against
                        + "<br/>" + "Games as: " + d.Games_as
                        + "<br/>" + "Winrate against: " + (+d.Winrate_against).toFixed(3)
                        + "<br/>" + "LCK games against: " + (+d.LCK_games_against).toFixed(3)
                        + "<br/>" + "LCK winrate against: " + (+d.LCK_wr).toFixed(3);
  } else if (slideIndex == 5) {
    if (d.LCK_wr == "null") {
      return "";
    }
    if (+d.LCK_wr < 0.5) {
      return "";
    }
    return "Champion: " + d.Champion_name
                        + "<br/>" + "Games against: " + d.Games_against
                        + "<br/>" + "Games as: " + d.Games_as
                        + "<br/>" + "Winrate against: " + (+d.Winrate_against).toFixed(3)
                        + "<br/>" + "LCK games against: " + (+d.LCK_games_against).toFixed(3)
                        + "<br/>" + "LCK winrate against: " + (+d.LCK_wr).toFixed(3);
  } else if (slideIndex == 6) {
    if (d.LCK_games_against == "null") {
      return 0;
    }
    if (+d.LCK_wr > 0.5) {
      return 0;
    }
    return "Champion: " + d.Champion_name
                        + "<br/>" + "Games against: " + d.Games_against
                        + "<br/>" + "Games as: " + d.Games_as
                        + "<br/>" + "Winrate against: " + (+d.Winrate_against).toFixed(3)
                        + "<br/>" + "LCK games against: " + (+d.LCK_games_against).toFixed(3)
                        + "<br/>" + "LCK winrate against: " + (+d.LCK_wr).toFixed(3);
  }

}


var tooltip = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);
    
var svgwidth = 1000;
var svgheight = 900;

var svg = d3.select("#viz")

var margin = {top: 40, right: 20, bottom: 40, left: 20},
    width = +svg.attr("width") - margin.left - margin.right,
    height = +svg.attr("height") - margin.top - margin.bottom,
    g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
    
g.append("text")
      .attr("x", (width/2))
      .attr("y",(height + 35))
      .style("text-anchor", "middle")
      .text("Solo Queue Games Played as");
      
g.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("Solo Queue Winrate Against");

      
var formatNumber = d3.format(".1f");

var xScale = d3.scaleLinear()
    .domain([0, 120])
    .range([0, width]);

var yScale = d3.scaleLinear()
    .domain([-.05, 1.05])
    .range([height, 0]);

var xAxis = d3.axisBottom(xScale)
    .ticks(10);

var yAxis = d3.axisRight(yScale)
    .tickSize(width)
    .tickFormat(function(d) {
      var s = formatNumber(d );
      return s;
    });

g.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(customXAxis)
    .append("text");

g.append("g")
    .call(customYAxis);


function customXAxis(g) {
  g.call(xAxis);
  g.select(".domain").remove();
}

function customYAxis(g) {
  g.call(yAxis);
  g.select(".domain").remove();
  g.selectAll(".tick:not(:first-of-type) line").attr("stroke", "#777").attr("stroke-dasharray", "2,2");
  g.selectAll(".tick text").attr("x", 4).attr("dy", -4);
}

function xmap(v) {
  var xScales = d3.scaleLinear()
    .domain([0, 120])
    .range([0, width]);
  return (xScales(v) + 20);
}
function ymap(v) {
  var yScales = d3.scaleLinear()
    .domain([-.05, 1.05])
    .range([height, 0]);
  return (yScales(v) + 40);
}
//Champion_name,wins,losses,winrate,Games_as,Winrate_against,Games_against,LCK_wr,LCK_games_against
var join = d3.select("#viz").selectAll("circle").data(manual_data);
join.attr("cx", function(d) { return xmap(+d.Games_as)})
   .attr("cy", function(d) {return ymap(+d.Winrate_against);})
   .attr("r", function(d) { return 2;})
   .attr("fill", "none")
   .attr("stroke", "black")
   .attr("stroke-width", "2");
join.enter().append("circle").attr("cx", function(d) { return xmap(+d.Games_as)})
                             .attr("cy", function(d) { return ymap(+d.Winrate_against);})
                             .attr("r", function(d) { return Math.sqrt(+d.Games_against)/2+1;})
                             .attr("fill", "none")
                             .attr("stroke", function(d) { return getElementColor(d.LCK_wr)})
                             .attr("stroke-opacity", function(d) { return getElementOpacity(d.LCK_wr)})
                             .attr("stroke-width", "2")
                             .on("mouseover", function(d) {
                                  tooltip.transition()
                                       .duration(50)
                                       .style("opacity", .9);
                                  tooltip.html(getTooltip(d))
                                       .style("left", (d3.event.pageX + 15) + "px")
                                       .style("top", (d3.event.pageY + 15) + "px");
                              })
                              .on("mouseout", function(d) {
                                  tooltip.transition()
                                       .duration(100)
                                       .style("opacity", 0);
                              });
join.exit().remove();

//Champion_name,wins,losses,winrate,Games_as,Winrate_against,Games_against,LCK_wr,LCK_games_against
join = d3.select("#viz").selectAll("polygon").data(manual_data);
join.attr("points", function(d) { return getPlusPoints(xmap(+d.Games_as), ymap(+d.Winrate_against), Math.sqrt(+d.Games_against)/2+1)})
   .attr("fill", "none")
   .attr("stroke", "black")
   .attr("stroke-width", "2");
join.enter().append("polygon").attr("points", function(d) { return getPlusPoints(xmap(+d.Games_as), ymap(+d.Winrate_against), d.LCK_games_against)})
                             .attr("fill", "none")
                             .attr("stroke", function(d) { return getElementColor(d.LCK_wr)})
                             .attr("stroke-opacity", function(d) { return getPlusOpacity(d.LCK_wr)})
                             .attr("stroke-width", "2")
                             .on("mouseover", function(d) {
                                  tooltip.transition()
                                       .duration(50)
                                       .style("opacity", .9);
                                  tooltip.html(getTooltip(d))
                                       .style("left", (d3.event.pageX + 15) + "px")
                                       .style("top", (d3.event.pageY + 15) + "px");
                              })
                              .on("mouseout", function(d) {
                                  tooltip.transition()
                                       .duration(100)
                                       .style("opacity", 0);
                              });
join.exit().remove();

function updateAllElements(n) {
  var join = d3.select("#viz").selectAll("circle").data(manual_data);
  join.attr("cx", function(d) { return xmap(+d.Games_as)})
       .attr("cy", function(d) { return ymap(+d.Winrate_against);})
       .attr("r", function(d) { return Math.sqrt(+d.Games_against)/2+1;})
       .attr("fill", "none")
       .attr("stroke", function(d) { return getElementColor(d.LCK_wr)})
       .attr("stroke-width", "2")
       .attr("stroke-opacity", function(d) { return getElementOpacity(d.LCK_wr)})
       .on("mouseover", function(d) {
            tooltip.transition()
                 .duration(50)
                 .style("opacity", .9);
            tooltip.html(getTooltip(d))
                 .style("left", (d3.event.pageX + 15) + "px")
                 .style("top", (d3.event.pageY + 15) + "px");
        })
        .on("mouseout", function(d) {
            tooltip.transition()
                 .duration(100)
                 .style("opacity", 0);
        });
  join.enter();
  join.exit().remove();
  
  join = d3.select("#viz").selectAll("polygon").data(manual_data);
  join.attr("points", function(d) { return getPlusPoints(xmap(+d.Games_as), ymap(+d.Winrate_against), d.LCK_games_against)})
       .attr("fill", "none")
       .attr("stroke", function(d) { return getElementColor(d.LCK_wr)})
       .attr("stroke-width", "2")
       .attr("stroke-opacity", function(d) { return getPlusOpacity(d.LCK_wr)})
       .on("mouseover", function(d) {
            tooltip.transition()
                 .duration(50)
                 .style("opacity", .9);
            tooltip.html(getTooltip(d))
                 .style("left", (d3.event.pageX + 15) + "px")
                 .style("top", (d3.event.pageY + 15) + "px");
        })
        .on("mouseout", function(d) {
            tooltip.transition()
                 .duration(100)
                 .style("opacity", 0);
        });
  join.enter();
  join.exit().remove();
}

function wrap(text, width) {
  text.each(function() {
    var text = d3.select(this),
        words = text.text().split(/\s+/).reverse(),
        word,
        line = [],
        lineNumber = 0,
        lineHeight = 1.1, // ems
        y = text.attr("y"),
        dy = parseFloat(text.attr("dy")),
        tspan = text.text(null).append("tspan").attr("x", 0).attr("y", y).attr("dy", dy + "em");
    while (word = words.pop()) {
      line.push(word);
      tspan.text(line.join(" "));
      if (tspan.node().getComputedTextLength() > width) {
        line.pop();
        tspan.text(line.join(" "));
        line = [word];
        tspan = text.append("tspan").attr("x", 0).attr("y", y).attr("dy", ++lineNumber * lineHeight + dy + "em").text(word);
      }
    }
  });
}

console.log("WHY2");
</script>

</body>
</html> 
