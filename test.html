
<!DOCTYPE html>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

<html>

<body>
    <div id="decoy-svg-container">
    <svg id="decoy_viz" width="0" height="0"></svg>
    </div>

    <div id="svg-container">
    <svg id="viz" width="720" height="405"></svg>
    </div>

<script>

    var width = 720;
    var height = 405;

</script>

<script>
var data = 
[
    {
        "x": 30,
        "y": 40,
        "r": 3,
    },
    {
        "x": 150,
        "y": 80,
        "r": 2,
    },
    {
        "x": -180,
        "y": -50,
        "r": 5,
    },
    {
        "x": 100,
        "y": -120,
        "r": 10,
    },
    {
        "x": -10,
        "y": 20,
        "r": 18,
    },
]; 


function updateViz(data)
{
  // Note that global variables width and height are already defined.

  // Given an array of data consisting of objects with numerical
  // properties x, y, r, use d3.js to do the following.

  // Select the SVG element by its ID.
  // Then use the general update pattern:
  // Join the data to any existing circle elements.
  // For each added element, append a circle element to the SVG.
  // For each deleted element, remove the old circle.

  // Note that each datum is an object with properties x, y, r.
  // Each circle element should have the following properties
  // set as attributes:
  // "cx" = (global variable width / 2) + (the datum value of x)
  // "cy" = (global variable height / 2) + (the datum value of y)
  // "r" = (the datum value of r / 2)
  // "fill" of "green"

  // Don't forget to update the existing circle elements!
  // That means you need to implement the general update pattern correctly.
  var join = d3.select("#viz").selectAll("circle").data(data);
  join.attr("cx", function(d, i) { return width / 2 + d["x"]})
               .attr("cy", function(d, i) { return height / 2 + d["y"]})
               .attr("r", function(d, i) { return d["r"]/2})
               .attr("fill", "green");
  join.enter().append("circle")
               .attr("cx", function(d, i) { return width / 2 + d["x"]})
               .attr("cy", function(d, i) { return height / 2 + d["y"]})
               .attr("r", function(d, i) { return d["r"]/2})
               .attr("fill", "green");
  join.exit().remove();
}
updateViz(data);
cx = 1
cy = 1
r = .5
console.log("" + cx + " " + cy + ","
               + (cx + r) + " " + cy + ","
               + cx + " " + cy + ","
               + cx + " " + (cy + r) + ","
               + cx + " " + cy + ","
               + (cx - r) + " " + cy + ","
               + cx + " " + cy + ","
               + cx + " " + (cy - r) + ",");
               
var descriptions = ["", "",
"<p>A graph of SKT Faker's winrates against certain champions vs how many times he has played said champion in solo queue.</p><p>Faker is a player on professional League of Legends (LoL) team SKT and was, at his prime, the best player to have played the game. LoL is a 5v5 competitive game where players each control a single unique champion and attempt to destroy the opponent's base. Solo queue is a ranked game mode where players are randomly matched up with 9 others of similar skill level and is the primary way players practice individual play.</p><p>SKT, the most decorated LoL team with 3 world championship titles, have recently struggled to defeat their opponenents in the LCK, the Korean Professional LoL league. This narrative visualization is to investigate the relationship between how familiar Faker is with certain champions and his professional results playing against those champions.</p>",
"<p>Here, the champions that SKT Faker has played against in the LCK have been highlighted.</p><p>At first glance, it appears Faker and his team should do fine. He has played against most of these champions often enough and have a positive win rate against them in solo queue.",
"Since some champions have not been used in the current professional season, they have been filtered out.</p><p>At time of writing, Faker has been subbed out of team SKT in a move considered unexpected by most. Before this move SKT had 4 wins and 7 losses in best of 3 matches against their opponents.  This can be seen in Faker having <0.5 win rates against most champions in competitive matches.</p><p>Interestingly, we find that how often Faker played against a champion in solo queue is roughly proportional to number of times he faced them in the LCK.",
"<p>With only the champions that SKT has a >=0.5 win rate against, the most notable feature is the relatively low playrates for all of the champions, both in solo queue and in the LCK.</p><p>I hypothesis that these champions are not as strong comparitively in the current game state and teams that choose said champions have a harder time winning in general.</p>",
"<p>The Champions that SKT have a negative win rate against don't seem to have any trends. This leads to the conclusion that the teams that SKT play against are simply outclassing SKT in terms of skill or team coordination.</p>"];
console.log(descriptions);

</script>
</body>

</html>

